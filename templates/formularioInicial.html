<!DOCTYPE html>
<html>

<head>
    <title>Formulario Inicial</title>
    <script>
        const carrerasPorFacultad = {
            "Ingeniería": ["Ingeniería Biomédica", "Ciencias de la Computación", "Industrial", "Mecánica"],
            "Ciencias Sociales": ["Antropología", "Arqueología", "Psicología"],
            "Ciencias y Humanidades": ["Biología", "Bioquímica", "Física"],
            "Educación": ["Educación Musical", "Educación Primaria", "Educación Inclusiva"]
        };

        function actualizarCarreras() {
            const facultadSeleccionada = document.getElementById("facultad").value;
            const carreraSelect = document.getElementById("carrera");
            carreraSelect.innerHTML = "";

            carrerasPorFacultad[facultadSeleccionada].forEach(carrera => {
                const option = document.createElement("option");
                option.value = carrera;
                option.text = carrera;
                carreraSelect.appendChild(option);
            });
        }
    </script>
</head>

<body>
    <h1>Formulario Inicial</h1>
    <form method="POST" action="{{ url_for('test') }}">
        <label for="facultad">Facultad:</label>
        <select id="facultad" name="facultad" onchange="actualizarCarreras()" required>
            <option disabled selected>Seleccione una facultad</option>
            {% for facultad in facultades %}
            <option value="{{ facultad }}">{{ facultad }}</option>
            {% endfor %}
        </select><br><br>

        <label for="carrera">Carrera:</label>
        <select id="carrera" name="carrera" required></select><br><br>

        <label for="promedio">Promedio académico (1.0 a 10.0):</label>
        <input type="number" id="promedio" name="promedio" step="0.1" min="1" max="10" required><br><br>

        <label for="interes">Área de interés principal:</label>
        <select id="interes" name="interes" required>
            {% for interes in intereses %}
            <option value="{{ interes }}">{{ interes }}</option>
            {% endfor %}
        </select><br><br>

        <button type="submit">Continuar al test de personalidad</button>
    </form>
</body>

</html>